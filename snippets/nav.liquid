{%comment%}
required: hot_label_enable : Boolean
{%endcomment%}

{% if handle != '' %}
  {% if linklists[handle].links.size > 0 %}
  <ul class="{{ class }} ">
    {% for link in linklists[handle].links %}  

      {% assign handlej = link.title | handleize %}
      {% assign style ='nav' %}

      {% for i in (1..10) %}
        {% capture pick_name %}nav{{i}}{% endcapture %}
        {% capture pick_name %}{{settings[pick_name]}}{% endcapture %}
        {% capture pick %}nav{{i}}_style{% endcapture %}
       
        {% if pick_name == handlej %}
          {% capture stylei %}nav-{{settings[pick]}}{% endcapture %}
          {% assign style = stylei %}
          {% break %}
        {% endif %}

      {% endfor %}

      {% capture handlei %}{{handlej}}{% endcapture %}

      {% if link.active %} 
        {% assign class_li = 'active' %}
        {%else%}
        {% assign class_li = '' %}
      {% endif %} 
      {% if linklists[handlei].links.size > 0 %}
        {% assign class_li = class_li | append: ' menu-item-has-children' %}
      {% endif %} 
      {% if style == 'nav-style1' or style == 'nav-style2' %}
        {% assign class_li = class_li | append:' mega-menu menu-4-col' %}
      {% endif %}
      <li class="{{class_li}}">
        <a href="{{ link.url }}">{{ link.title }} 

          {%if hot_label_enable %}
            
            {% assign hots = {{settings.main_menu_hot_items}} | split: ',' %}

            {%for hot in hots %}
               {% if link.handle == hot %}
               <sup class="label-sub title-hot hidden-xs"> {{'collections.general.hot' | t}}</sup>
               {% endif %}
            {% endfor %}
          
          {% assign news = {{settings.main_menu_new_items}} | split: ',' %}

           {% for n in news %}
               {% if link.handle == n %}
               <sup class="label-sub title-new hidden-xs">{{'collections.general.new' | t}}</sup>
               {% endif %}
            {% endfor %}
          {% endif %}
        </a>

        {% include style class:' sub-menu', handle: handlei %}

      </li>

    {% endfor%}
  </ul>
  {% endif %}
{% endif %}